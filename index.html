<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Latlon23 by hickeroar</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Latlon23</h1>
        <p>Methods for representing geographic coordinates</p>
        <p class="view"><a href="https://github.com/hickeroar/LatLon23">View the Project on GitHub <small>hickeroar/LatLon23</small></a></p>
        <ul>
          <li><a href="https://github.com/hickeroar/LatLon23/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/hickeroar/LatLon23/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/hickeroar/LatLon23">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="latlon" class="anchor" href="#latlon" aria-hidden="true"><span class="octicon octicon-link"></span></a>LatLon</h1>

<h2>
<a id="license--fork-information" class="anchor" href="#license--fork-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>License / Fork Information</h2>

<p>::</p>

<pre><code>Copyright (c) 2014-2015 Gen Del Raye
Copyright (c) 2015 Ryan Vennell

This is a derivative, forked from the original work by:
Gen Del Raye &lt;gdelraye@hawaii.edu&gt; and located at:
https://pypi.python.org/pypi/LatLon

Licensed under the GPLv3: http://www.gnu.org/licenses/gpl-3.0.html

The purpose of this fork is to provide full Python3 (and Python2)
support in light of the fact that the original work has no public
repository which can be contributed to or traditionally forked.
</code></pre>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<p>Methods for representing geographic coordinates (latitude and longitude) including the ability to:</p>

<pre><code>* Convert lat/lon strings from almost any format into a *LatLon* object (analogous to the datetime
  library's *stptime* method)
* Automatically store decimal degrees, decimal minutes, and degree, minute, second information in
  a *LatLon* object
* Output lat/lon information into a formatted string (analogous to the datetime library's *strftime*
  method)
* Project lat/lon coordinates into some other proj projection
* Calculate distance and heading between lat/lon pairs using either the FAI or WGS84 approximation
* Create a new *LatLon* object by offsetting an initial coordinate by a distance and heading
* Subtracting one *LatLon* object from another creates a *GeoVector* object with distance and heading
  attributes (analogous to the datetime library's *timedelta* object)
* Adding or subtracting a *Latlon* object and a *GeoVector* object creates a new *LatLon* object with
  the coordinates adjusted by the *GeoVector* object's distance and heading
* *GeoVector* objects can be added, subtracted, multiplied or divided
</code></pre>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><em>LatLon</em> has only been tested in Python 2.7</p>

<p>Installation through pip::</p>

<pre><code>$ pip install LatLon23
</code></pre>

<p>Installation through pip::</p>

<pre><code>$ pip3 install LatLon23
</code></pre>

<p>Requires the following non-standard libraries:</p>

<pre><code>* *pyproj*
</code></pre>

<h2>
<a id="usage-notes" class="anchor" href="#usage-notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage Notes</h2>

<p>Usage of <em>LatLon</em> is primarily through the class <em>LatLon</em>, which is designed to hold a single pair of
<em>Latitude</em> and <em>Longitude</em> objects. Strings can be converted to <em>LatLon</em> objects using the method
<em>string2latlon</em>, and to <em>Latitude</em> or <em>Longitude</em> objects using <em>string2geocoord</em>. Alternatively, a LatLon
object can be constructed by subtracting two <em>LatLon</em> objects, or adding or subtracting a <em>Latlon</em> object
and a <em>GeoVector</em> object.</p>

<h1>
<a id="latitude-or-longitude-construction" class="anchor" href="#latitude-or-longitude-construction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Latitude or Longitude Construction</h1>

<p>Latitude of longitude construction is through the classes <em>Latitude</em> and <em>Longitude</em>, respectively. You can
pass a latitude or longitude coordinate in any combination of decimal degrees, degrees and minutes, or
degrees minutes and seconds. Alternatively, you can pass a formatted string using the function <em>string2geocoord</em>
for a string containing a single latitude or longitude, or <em>string2latlon</em> for a pair of strings representing
the latitude and longitude.</p>

<h1>
<a id="string-formatting" class="anchor" href="#string-formatting" aria-hidden="true"><span class="octicon octicon-link"></span></a>String formatting:</h1>

<p><em>string2latlon</em> and <em>string2geocoord</em> both take a <em>formatter</em> string which is loosely modeled on the <em>format</em>
keyword used in <em>datetime's</em> <em>strftime</em> function. Indicator characters (e.g. <em>H</em> or <em>D</em>) are placed between
a specific separator character (<em>%</em>) to specify the way in which a coordinate string is formatted. Possible
values are as follows:</p>

<p>::</p>

<pre><code>*H* is a hemisphere identifier (e.g. N, S, E or W)

*D* is a coordinate in decimal degrees notation (e.g. 5.833)

*d* is a coordinate in degrees notation (e.g. 5)

*M* is a coordinate in decimal minutes notation (e.g. 54.35)

*m* is a coordinate in minutes notation (e.g. 54)

*S* is a coordinate in seconds notation (e.g. 28.93)

Any other characters (e.g. ' ' or ', ') will be treated as a separator between the above components.

All components should be separated by the *%* character. For example, if the coord_str is '5, 52,
59.88_N', the format_str would be 'd%, %m%, %S%_%H'
</code></pre>

<h1>
<a id="important" class="anchor" href="#important" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>Important</em>
</h1>

<p>One format that will not currently work is one where the hemisphere identifier and a degree or decimal degree
are not separated by any characters. For example  '5 52 59.88 N' is valid whereas '5 52 59.88N' is not.</p>

<h1>
<a id="string-output" class="anchor" href="#string-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>String output:</h1>

<p>Both <em>LatLon</em> and <em>Latitude</em> and <em>Longitude</em> objects include a <em>to_string()</em> method for outputting a formatted
coordinate.</p>

<h1>
<a id="projection" class="anchor" href="#projection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Projection:</h1>

<p>Use <em>LatLon.project</em> to transform geographical coordinates into a chosen projection. Requires that you pass it a
<em>pyproj</em> or <em>basemap</em> projection.</p>

<h1>
<a id="distance-and-heading-calculation" class="anchor" href="#distance-and-heading-calculation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Distance and Heading Calculation:</h1>

<p><em>LatLon</em> objects have a <em>distance()</em> method which accepts a 2nd <em>LatLon</em> object as an argument. <em>distance()</em> will
calculate the great-circle distance between the two coordinates using the WGS84 ellipsoid by default. To use the
more approximate FAI sphere, set <em>ellipse</em> to 'sphere'. Initial and reverse headings (in degrees) can be calculated
in a similar way using the <em>heading_initial()</em> and <em>heading_reverse()</em> methods. Alternatively, subtracting one
<em>LatLon</em> object from another will return a <em>GeoVector</em> object with the attributes heading and distance.</p>

<h1>
<a id="creating-a-new-latlon-object-by-offset-from-another-one" class="anchor" href="#creating-a-new-latlon-object-by-offset-from-another-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a New LatLon Object by Offset from Another One:</h1>

<p>Use the <em>offset()</em> method of <em>LatLon</em> objects, which takes an initial heading (in degrees) and distance (in km) to
return a new <em>LatLon</em> object at the offset coordinates. Also, you can perform the same operation by adding or
subtracting a LatLon object with a GeoVector object.</p>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>Create a <em>LatLon</em> object from coordinates::</p>

<pre><code>&gt;&gt; palmyra = LatLon(Latitude(5.8833), Longitude(-162.0833)) # Location of Palmyra Atoll in decimal degrees
&gt;&gt; palmyra = LatLon(5.8833, -162.0833) # Same thing but simpler!
&gt;&gt; palmyra = LatLon(Latitude(degree = 5, minute = 52, second = 59.88),
&gt;&gt;                  Longitude(degree = -162, minute = -4.998) # or more complicated!
&gt;&gt; print palmyra.to_string('d% %m% %S% %H') # Print coordinates to degree minute second
('5 52 59.88 N', '162 4 59.88 W')
</code></pre>

<p>Create a <em>Latlon</em> object from a formatted string::</p>

<pre><code>&gt;&gt; palmyra = string2latlon('5 52 59.88 N', '162 4 59.88 W', 'd% %m% %S% %H')
&gt;&gt; print palmyra.to_string('d%_%M') # Print coordinates as degree minutes separated by underscore
('5_52.998', '-162_4.998')
</code></pre>

<p>Perform some calculations::</p>

<pre><code>&gt;&gt; palmyra = LatLon(Latitude(5.8833), Longitude(-162.0833)) # Location of Palmyra Atoll
&gt;&gt; honolulu = LatLon(Latitude(21.3), Longitude(-157.8167)) # Location of Honolulu, HI
&gt;&gt; distance = palmyra.distance(honolulu) # WGS84 distance in km
&gt;&gt; print distance
1766.69130376
&gt;&gt; print palmyra.distance(honolulu, ellipse = 'sphere') # FAI distance in km
1774.77188181
&gt;&gt; initial_heading = palmyra.heading_initial(honolulu) # Heading from Palmyra to Honolulu on WGS84 ellipsoid
&gt;&gt; print initial_heading
14.6907922022
&gt;&gt; hnl = palmyra.offset(initial_heading, distance) # Reconstruct Honolulu based on offset from Palmyra
&gt;&gt; print hnl.to_string('D') # Coordinates of Honolulu
('21.3', '-157.8167')
</code></pre>

<p>Manipulate <em>LatLon</em> objects using <em>GeoVectors</em>::</p>

<pre><code>&gt;&gt; vector = (honolulu - palmyra) * 2 # A GeoVector with 2x the magnitude of a vector from palmyra to honolulu
&gt;&gt; print vector # Print heading and magnitude
14.6907922022 3533.38260751
print palmyra + (vector/2.0) # Recreate the coordinates of Honolulu by adding half of vector to palmyra
21.3, -157.8167
</code></pre>

<h2>
<a id="version" class="anchor" href="#version" aria-hidden="true"><span class="octicon octicon-link"></span></a>Version</h2>

<h1>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changelog</h1>

<p><strong>1.0.7 (MARCH/29/2015)</strong></p>

<pre><code>* Forked from original work: https://pypi.python.org/pypi/LatLon
* Added Python3 support and refactored a bit of the code
* Updated Readme to correct issues and provide proper attribution
* Adding MANIFEST.in
</code></pre>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/hickeroar">hickeroar</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>